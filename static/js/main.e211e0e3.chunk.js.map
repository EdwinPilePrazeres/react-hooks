{"version":3,"sources":["components/Nav/Navigation.js","components/UI/Card.js","hooks-store/store.js","components/Products/ProductItem.js","containers/Products.js","components/Favorites/FavoriteItem.js","containers/Favorites.js","App.js","hooks-store/products-store.js","index.js"],"names":["Navigation","props","className","to","exact","Card","style","children","globalState","listeners","actions","useStore","shouldListen","setState","useState","dispatch","actionIdentifier","payload","newState","listener","useEffect","push","filter","li","ProductItem","React","memo","console","log","marginBottom","isFav","title","description","onClick","id","Products","state","products","map","prod","isFavorite","FavoriteItem","Favorites","favoriteProducts","p","content","length","App","Fragment","path","component","ProductsPage","FavoritesPage","userActions","initialState","TOGGLE_FAV","curState","productId","prodIndex","findIndex","newFavStatus","updatedProducts","configureProductStore","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e211e0e3.chunk.js","sourcesContent":["import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nimport './Navigation.css';\r\n\r\nconst Navigation = props => {\r\n  return (\r\n    <header className=\"main-header\">\r\n      <nav>\r\n        <ul>\r\n          <li>\r\n            <NavLink to=\"/react-hooks\" exact>All Products</NavLink>\r\n          </li>\r\n          <li>\r\n            <NavLink to=\"/react-hooks/favorites\">Favorites</NavLink>\r\n          </li>\r\n        </ul>\r\n      </nav>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Navigation;\r\n","import React from 'react';\r\n\r\nimport './Card.css';\r\n\r\nconst Card = props => {\r\n  return <div className=\"card\" style={props.style}>{props.children}</div>;\r\n};\r\n\r\nexport default Card;\r\n","import { useState, useEffect } from 'react';\r\n\r\nlet globalState = {};\r\nlet listeners = [];\r\nlet actions = {};\r\n\r\nexport const useStore = (shouldListen = true) => {\r\n    const setState = useState(globalState)[1];\r\n\r\n    const dispatch = (actionIdentifier, payload) => {\r\n        const newState = actions[actionIdentifier](globalState, payload);\r\n        globalState = {...globalState, ...newState };\r\n\r\n        for (const listener of listeners) {\r\n            listener(globalState);\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (shouldListen) {\r\n            listeners.push(setState);\r\n        }\r\n\r\n\r\n        return () => {\r\n            if (shouldListen){\r\n                listeners = listeners.filter(li => li !== setState);\r\n            }\r\n        }\r\n    }, [setState]);\r\n\r\n    return [globalState, dispatch];\r\n\r\n};\r\n\r\n\r\nexport const initStore = (userActions, initialState) => {\r\n    if (initialState) {\r\n        globalState = {...globalState, ...initialState};\r\n    }\r\n    actions = { ...actions, ...userActions};\r\n};","import React from 'react';\r\n\r\nimport Card from '../UI/Card';\r\nimport { useStore } from '../../hooks-store/store';\r\nimport './ProductItem.css';\r\n\r\nconst ProductItem = React.memo(props => {\r\n  console.log('RENDERING')\r\n  const dispatch = useStore(false)[1];\r\n\r\n  const toggleFavHandler = () => {\r\n    // dispatch(toggleFav(props.id));\r\n    // toggleFav(props.id);\r\n    dispatch('TOGGLE_FAV', props.id);\r\n  };\r\n\r\n  return (\r\n    <Card style={{ marginBottom: '1rem' }}>\r\n      <div className=\"product-item\">\r\n        <h2 className={props.isFav ? 'is-fav' : ''}>{props.title}</h2>\r\n        <p>{props.description}</p>\r\n        <button\r\n          className={!props.isFav ? 'button-outline' : ''}\r\n          onClick={toggleFavHandler}\r\n        >\r\n          {props.isFav ? 'Un-Favorite' : 'Favorite'}\r\n        </button>\r\n      </div>\r\n    </Card>\r\n  );\r\n});\r\n\r\nexport default ProductItem;\r\n","import React,  { useContext } from 'react';\r\nimport { useSelector } from 'react-redux';\r\n\r\nimport ProductItem from '../components/Products/ProductItem';\r\nimport { useStore }from '../hooks-store/store';\r\nimport './Products.css';\r\n\r\nconst Products = props => {\r\n\r\n  const state = useStore()[0];\r\n  return (\r\n    <ul className=\"products-list\">\r\n      {state.products.map(prod => (\r\n        <ProductItem\r\n          key={prod.id}\r\n          id={prod.id}\r\n          title={prod.title}\r\n          description={prod.description}\r\n          isFav={prod.isFavorite}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default Products;\r\n","import React from 'react';\r\n\r\nimport Card from '../UI/Card';\r\nimport './FavoriteItem.css';\r\n\r\nconst FavoriteItem = props => {\r\n  return (\r\n    <Card style={{ marginBottom: '1rem' }}>\r\n      <div className=\"favorite-item\">\r\n        <h2>{props.title}</h2>\r\n        <p>{props.description}</p>\r\n      </div>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default FavoriteItem;\r\n","import React, { useContext } from 'react';\r\n\r\nimport FavoriteItem from '../components/Favorites/FavoriteItem';\r\nimport { useStore } from '../hooks-store/store';\r\nimport './Products.css';\r\n\r\nconst Favorites = props => {\r\n  const state = useStore()[0];\r\n  const favoriteProducts = state.products.filter( p => p.isFavorite);\r\n  let content = <p className=\"placeholder\">Got no favorites yet!</p>;\r\n  if (favoriteProducts.length > 0) {\r\n    content = (\r\n      <ul className=\"products-list\">\r\n        {favoriteProducts.map(prod => (\r\n          <FavoriteItem\r\n            key={prod.id}\r\n            id={prod.id}\r\n            title={prod.title}\r\n            description={prod.description}\r\n          />\r\n        ))}\r\n      </ul>\r\n    );\r\n  }\r\n  return content;\r\n};\r\n\r\nexport default Favorites;\r\n","import React from 'react';\nimport { Route } from 'react-router-dom';\n\nimport Navigation from './components/Nav/Navigation';\nimport ProductsPage from './containers/Products';\nimport FavoritesPage from './containers/Favorites';\n\nconst App = props => {\n  return (\n    <React.Fragment>\n      <Navigation />\n      <main>\n        <Route path=\"/react-hooks\" component={ProductsPage} exact />\n        <Route path=\"/react-hooks/favorites\" component={FavoritesPage} />\n      </main>\n    </React.Fragment>\n  );\n};\n\nexport default App;\n","import { initStore } from './store';\r\n\r\nconst configureStore = () => {\r\n    const actions = {\r\n        TOGGLE_FAV: (curState, productId) => {\r\n            const prodIndex = curState.products.findIndex(\r\n                p => p.id === productId\r\n              );\r\n              const newFavStatus = !curState.products[prodIndex].isFavorite;\r\n              const updatedProducts = [...curState.products];\r\n              updatedProducts[prodIndex] = {\r\n                ...curState.products[prodIndex],\r\n                isFavorite: newFavStatus\r\n              };\r\n            return { products: updatedProducts};\r\n        }\r\n    }\r\n    initStore(actions, {products: [\r\n        {\r\n          id: 'p1',\r\n          title: 'Red Scarf',\r\n          description: 'A pretty red scarf.',\r\n          isFavorite: false\r\n        },\r\n        {\r\n          id: 'p2',\r\n          title: 'Blue T-Shirt',\r\n          description: 'A pretty blue t-shirt.',\r\n          isFavorite: false\r\n        },\r\n        {\r\n          id: 'p3',\r\n          title: 'Green Trousers',\r\n          description: 'A pair of lightly green trousers.',\r\n          isFavorite: false\r\n        },\r\n        {\r\n          id: 'p4',\r\n          title: 'Orange Hat',\r\n          description: 'Street style! An orange hat.',\r\n          isFavorite: false\r\n        }\r\n      ]});\r\n};  \r\n\r\nexport default configureStore;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport './index.css';\nimport App from './App';\nimport configureProductStore from './hooks-store/products-store';\n\nconfigureProductStore();\n\nReactDOM.render(\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}